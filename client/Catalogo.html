<!DOCTYPE html>
<html lang="es">
<head>
 

     
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

   
   
    <title>Catalogo</title>
</head>

<script>

function retrieveData () {
          fetch("http://localhost/comercio-virtual/server/productos")
          .then((res) => res.json())
          .then((data) => {
            //   console.log(data);

             data.map((registro)=> {
                console.log(registro)
                const tr = document.createElement("tr");
                // let td = document.createElement("td");
                // let td2 = document.createElement("td");
                // td.innerText = registro.precio ;
                // tr.insertBefore(td);
                // td2.innerText = registro.cantidad;
                // tr.insertBefore(td);
                // td.innerText = registro.nombre;
                // tr.insertBefore(td);
                // td.innerText = registro.categorias;
                // tr.insertBefore(td);
                // td.innerText = registro.descripcion;
                // tr.insertBefore(td);
                // td.innerText = registro.estatus;
                // tr.insertBefore(td);
                const datos = "<td> " + registro.precio + "</td>" + "<td> " + registro.cantidad + "</td>" +  "<td> " + registro.nombre + "</td>" + "<td> " + registro.categorias + "</td>" + "<td> " + registro.descripcion + "</td>" + "<td> " + registro.estatus + "</td>";
                tr.innerHTML = datos ;
                
                
                const table = document.getElementById("tablacampos");
                table.appendChild(tr);
                
                
                //for (let i=0; i < Object.keys(registro).length; i++){
               // }
             })
              // data = data[0];
              // console.log(data.nombre);
              // for (let i=0; i < data.length; i++) {
              //   const datos = document.createElement("div");
              //   datos.innerText = "Producto: " + data[i].nombre + "\nCantidad: " + data[i].cantidad + "\nPrecio:" + data[i].precio;
              //   const div = document.getElementById("datos");
              //   div.insertBefore(datos);
              // }
            });
        };
      document.addEventListener("DOMContentLoaded", function (event) {
        retrieveData(); 
        
        //Las peticiones se hacen a la uri del server segun las rutas definidas
        
      });
    
</script>

 <!-- el BODY tiene estilos -->


 
<body style="margin: 50px;">
<table id="tablacampos">
    <tr>
        <th>
            precio
        </th>
        <th>
            cantidad
        </th>
        <th>
            nombre
        </th>
        <th>
            categorias
        </th>
        <th>
            descripcion
        </th>
        <th>
            estatus
        </th>
    </tr>
</table>




</body>
</html>