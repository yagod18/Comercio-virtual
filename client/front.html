<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="Verport" content="width=device-width, initial-scale=1.0" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">

    <title>Document</title>
  
  </head>
  <body style="margin: 0;"> 
    <header class="row">
      <header class="p-3 bg-dark text-white ">
        <div class="container" >
          <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
            <a href="/" class="d-flex align-items-center mb-2 mb-lg-0 text-white text-decoration-none">
              <svg class="bi me-2" width="40" height="32" role="img" aria-label="Bootstrap"><use xlink:href="#bootstrap"></use></svg>
            </a>
    
            <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0" ">
              <li><a href="front.html" class="nav-link px-2 text-white">Inicio</a></li>
              <li><a href="CargarProductos.html" class="nav-link px-2 text-white">Cargar productos</a></li>
              <li><a href="" class="nav-link px-2 text-white">Pricing</a></li>
              <li><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
              <li><a href="#" class="nav-link px-2 text-white">About</a></li>
            </ul>
    
            <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3" style="margin-top: 2%;">
              <input type="text" id="formulariobuscador" placeholder="Buscar">
              <button class="btn btn-primary mb-2" id="botonbuscador">Buscar</button>
              <ul  id="resultadodebusqueda">
              
              </ul>
            </form>
    
            <div class="text-end">
              <button  type="button" class="btn btn-outline-light me-2"> <a href="login.html" style='text-decoration: none; color: rgb(151, 149, 149);'>Login </a> </button>
              <button type="button" class="btn btn-warning">Sign-up</button>
            </div>
          </div>
        </div>
      </header>

      <main>

        <section class="py-5 text-center container">
          <div class="row py-lg-5">
            <div class="col-lg-6 col-md-8 mx-auto">
              <h1 class="fw-light">Album example</h1>
              <p class="lead text-muted">Something short and leading about the collection below—its contents, the creator, etc. Make it short and sweet, but not too short so folks don’t simply skip over it entirely.</p>
              <p>
                <a href="#" class="btn btn-primary my-2">Main call to action</a>
                <a href="#" class="btn btn-secondary my-2">Secondary action</a>
              </p>
            </div>
          </div>
        </section>
      
        <div class="album py-5 bg-light">
          <div class="container">
      
            <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
              <div class="col">
                <div class="card shadow-sm">
                  <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text id="resultadodebusqueda" x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
      
                  <div class="card-body">
                    <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis eveniet alias quia doloremque animi placeat illum, neque ullam earum inventore odit optio? Dolores maxime ipsa dolorem optio, quas amet cum!</p>
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-secondary">Ver</button>
                      </div>
                    
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card shadow-sm">
                  <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
      
                  <div class="card-body">
                    <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis eveniet alias quia doloremque animi placeat illum, neque ullam earum inventore odit optio? Dolores maxime ipsa dolorem optio, quas amet cum!</p>
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-secondary">Ver</button>
                      </div>
                    
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="card shadow-sm">
                  <svg class="bd-placeholder-img card-img-top" width="100%" height="225" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Placeholder: Thumbnail" preserveAspectRatio="xMidYMid slice" focusable="false"><title>Placeholder</title><rect width="100%" height="100%" fill="#55595c"></rect><text x="50%" y="50%" fill="#eceeef" dy=".3em">Thumbnail</text></svg>
      
                  <div  class="card-body">
                    <p class="card-text">Lorem ipsum dolor sit amet consectetur adipisicing elit. Nobis eveniet alias quia doloremque animi placeat illum, neque ullam earum inventore odit optio? Dolores maxime ipsa dolorem optio, quas amet cum!</p>
                    <div class="d-flex justify-content-between align-items-center">
                      <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-secondary">Ver</button>
                      </div>
                    
                    </div>
                  </div>
                </div>
              </div>
      
           
      </main>

    <div style="background-color: rgb(27, 27, 27); margin-top: 0%; ">
      <footer class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4">
        <p class="col-md-4 mb-0 text-white">© 2021 Company, Inc</p>
    
        <a href="/" class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
          <svg class="bi me-2" width="40" height="32"><use xlink:href="#bootstrap"></use></svg>
        </a>
    
        <ul class="nav col-md-4 justify-content-end">
          <li class="nav-item"><a href="#" class="nav-link px-2 text-white">Home</a></li>
          <li class="nav-item"><a href="#" class="nav-link px-2 text-white">Features</a></li>
          <li class="nav-item"><a href="#" class="nav-link px-2 text-white">Pricing</a></li>
          <li class="nav-item"><a href="#" class="nav-link px-2 text-white">FAQs</a></li>
          <li class="nav-item"><a href="#" class="nav-link px-2 text-white">About</a></li>
        </ul>
      </footer>
    </div>




  <script>    
  
  // categorias

    fetch("http://localhost/comercio-virtual/server/categorias")
     .then((res) => res.json())
     .then((data) =>{ 
            
          //   console.log(data);

          data.map((registro)=> {
              console.log(registro)

              const tr = document.createElement("tr");
          
              const datos = "<td> <a href='#' id='clickcategoria' style='text-decoration: none; color: #000;' >" + registro.categoria + "</a> </td>";
              tr.innerHTML = datos ;
              
              
              const table = document.getElementById("tablacategorias");
              table.appendChild(tr);
              
              
            
           })

     });  
</script>
<script>    
  
    // buscador

    fetch("http://localhost/comercio-virtual/server/productos")
    .then((res) => res.json())
    .then((data) =>{
        
  const formulariobuscador = document.querySelector('#formulariobuscador');
  const botonbuscador = document.querySelector('#botonbuscador');
  const resultadodebusqueda = document.querySelector('#resultadodebusqueda');
/*
  const buscar = () =>{
      resultadodebusqueda.innerHTML = '';
      const text = formulariobuscador.value.toLowerCase();
*/


      for(let producto of data){
          
          let nombre = producto.nombre.toLocaleLowerCase();
          if(nombre.indexOf(text) !== -1){
              resultadodebusqueda.innerHTML += `<li>${producto.nombre} - Valor: ${producto.precio} </li>`
              
          }
      }

      if(resultadodebusqueda.innerHTML === ''){
          resultadodebusqueda.innerHTML += `<li>Producto no encontrado...</li>`
      }

  }

  botonbuscador.addEventListener('click', buscar)
  formulariobuscador.addEventListener('keyup', buscar)
  buscar();
    });

    

      


// catalogo


/* function retrieveData () {
        fetch("http://localhost/comercio-virtual/server/productos")
        .then((res) => res.json())
        .then((data) => {
          //   console.log(data);

           data.map((registro)=> {
              console.log(registro)

              const tr = document.createElement("tr");
          
              const datos = "<li> <a>" + registro.precio  + "<li> <a>" + registro.cantidad  +  "<li> <a>" + registro.nombre  + "<li> <a>" + registro.categorias  + "<li> <a>" + registro.descripcion  + "<li> <a>" + registro.estatus ;
              tr.innerHTML = datos ;
              
              
              const table = document.getElementById("tablacampos");
              table.appendChild(tr);
              
              
            
           })

          });
      };
    document.addEventListener("DOMContentLoaded", function (event) {
      retrieveData(); 
      
      //Las peticiones se hacen a la uri del server segun las rutas definidas
      
    });  */

  
  
</script>
</html>
